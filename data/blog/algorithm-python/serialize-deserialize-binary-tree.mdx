---
title: 'Serialize & Deserialize Binary Tree'
date: '2024-06-11'
tags: ['python', 'algorithm', 'tree', 'BFS', 'binary tree']
draft: false
summary: 'Design an algorithm to serialize and deserialize a binary tree.'
---

## Introduction
Serialization is the process of converting a data structure or object into a sequence of bits so that it can be
stored in a file or memory buffer, or transmitted across a network connection link to be reconstructed later in
the same or another computer environment. Design an algorithm to serialize and deserialize a binary tree. There
is no restriction on how your serialization/deserialization algorithm should work. You just need to ensure that a
binary tree can be serialized to a string and this string can be deserialized to the original tree structure.

Clarification: The input/output format is the same as how LeetCode serializes a binary tree. You do not
necessarily need to follow this format, so please be creative and come up with different approaches yourself.

```python:tree-node.py
class TreeNode:
    def __init__(self, val=0, left=None, right=None):
        self.val = val
        self.left = left
        self.right = right
```

## Solutions

### 1. Using BFS
```python:main.py
class Codec:
    def serialize(self, root: Optional[TreeNode]) -> str:
        queue = deque([root])
        result = ['#']

        while queue:
            node = queue.popleft()
            if node:
                queue.append(node.left)
                queue.append(node.right)

                result.append(str(node.val))
            else:
                result.append('#')
        return ' '.join(result)

    def deserialize(self, data: str) -> Optional[TreeNode]:
        if not data or data == '# #':
            return None
        nodes = data.split()
        root = TreeNode(int(nodes[1]))
        queue = deque([root])
        index = 2

        while queue:
            node = queue.popleft()

            if index < len(nodes) and nodes[index] != '#':
                node.left = TreeNode(int(nodes[index]))
                queue.append(node.left)
            index += 1

            if index < len(nodes) and nodes[index] != '#':
                node.right = TreeNode(int(nodes[index]))
                queue.append(node.right)
            index += 1

        return root
```

## References

- [Leetcode Serialize & Deserialize Binary Tree Problem](https://leetcode.com/problems/merge-two-binary-trees)
- [파이썬 알고리즘 인터뷰(Python Algorithm Interview)](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=245495826)
